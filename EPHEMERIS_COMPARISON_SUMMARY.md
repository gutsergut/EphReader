# –°–≤–æ–¥–∫–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —ç—Ñ–µ–º–µ—Ä–∏–¥: –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã

–°–æ–∑–¥–∞–Ω–æ: 2025-01-XX
–°—Ç–∞—Ç—É—Å: ‚úÖ **COMPLETE** - –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å–∫—Ä—ã—Ç—ã

---

## üìã –û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### ‚ùì "–í –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–µ —ç—Ñ—Ñ–µ–º–µ—Ä–∏–¥—ã?"

**–û—Ç–≤–µ—Ç**: ‚úÖ **–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `.se1`** (–ù–ï SPICE SPK!)

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- **–ë–∞–∑–∏—Å**: JPL DE431, —Å–∂–∞—Ç—ã–π –º–µ—Ç–æ–¥–æ–º Kammeyer (1987)
- **–†–∞–∑–º–µ—Ä**: 99 MB (vs 2.8 GB –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π JPL DE431) - **—Å–∂–∞—Ç–∏–µ 28√ó!**
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ß–µ–±—ã—à—ë–≤–∞ –¥–ª—è **Œî-–ø–æ–∑–∏—Ü–∏–π** (—Ä–∞–∑–Ω–æ—Å—Ç–∏ JPL - VSOP87)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 600 –ª–µ—Ç –Ω–∞ —Ñ–∞–π–ª (~220 KB –∫–∞–∂–¥—ã–π)
- **–î–æ—Å—Ç—É–ø**: –ß–µ—Ä–µ–∑ libswe.dll (C library) + FFI

---

### ‚ùì "–ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Swiss Ephemeris?"

**–û—Ç–≤–µ—Ç**: ‚úÖ **–ê–ª–≥–æ—Ä–∏—Ç–º Kammeyer (US Naval Observatory, 1987)**

#### –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–∂–∞—Ç–∏—è:

**1Ô∏è‚É£ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã + –õ—É–Ω–∞** (—Å–ª–æ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º):
```
1. –í—ã—á–∏—Å–ª–∏—Ç—å —Å—Ä–µ–¥–Ω—é—é –æ—Ä–±–∏—Ç—É –ø–æ VSOP87 (–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–æ—Ä–∏—è)
2. –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞–∑–Ω–æ—Å—Ç—å: Œî = JPL_–ø–æ–∑–∏—Ü–∏—è - VSOP87_—Å—Ä–µ–¥–Ω—è—è
3. –•—Ä–∞–Ω–∏—Ç—å Œî –≤ –ß–µ–±—ã—à—ë–≤ –ø–æ–ª–∏–Ω–æ–º–∞—Ö (1 –∞–Ω–æ–º–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª –Ω–∞ –ø–æ–ª–∏–Ω–æ–º)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: Œî —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1-5% –æ—Ç –ø–æ–ª–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –º–µ–Ω—å—à–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤!
–ü–µ—Ä–∏–æ–¥—ã: Mercury ~88 –¥–Ω–µ–π, Venus ~225 –¥–Ω–µ–π, Moon ~27.5 –¥–Ω–µ–π (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
```

**2Ô∏è‚É£ –í–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã** (Jupiter-Pluto, –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º):
```
1. –í—Ä–∞—â–µ–Ω–∏–µ –≤ mean plane –æ—Ä–±–∏—Ç—ã –ø–ª–∞–Ω–µ—Ç—ã
2. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 2 –±–æ–ª—å—à–∏–µ + 1 –æ—á–µ–Ω—å –º–∞–ª–∞—è (‚âà0)
3. –•—Ä–∞–Ω–∏—Ç—å –≤ –ß–µ–±—ã—à—ë–≤ –ø–æ–ª–∏–Ω–æ–º–∞—Ö (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ 4000 –¥–Ω–µ–π)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –¢—Ä–µ—Ç—å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ ‚âà0 ‚Üí —ç–∫–æ–Ω–æ–º–∏—è –±–∏—Ç–æ–≤
–ü–µ—Ä–∏–æ–¥: –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª 4000 –¥–Ω–µ–π
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 2.8 GB ‚Üí 99 MB (97% –∫–æ–º–ø—Ä–µ—Å—Å–∏—è!)

#### –¢–æ—á–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
| –ü–ª–∞–Ω–µ—Ç–∞  | Max error | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å JPL |
|----------|-----------|---------------------|
| Mercury  | 1.67"     | 0.001" (1 mas)      |
| Venus    | 0.14"     | 0.001"              |
| Earth    | 1.00"     | 0.001"              |
| Moon     | 12"       | 0.001" (–º–æ–¥–µ–ª—å –ø—Ä–∏–ª–∏–≤–æ–≤ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è) |

---

### ‚ùì "–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –≥–¥–µ –∫–∞–∫–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ç–æ—á–Ω–µ–µ + —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ –≤—Å–µ–º –ø–ª–∞–Ω–µ—Ç–∞–º"

**–û—Ç–≤–µ—Ç**: ‚úÖ –°–º. –ø–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∏–∂–µ

## üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π                  | JPL DE440       | JPL DE431       | EPM2021         | Swiss Ephemeris |
|---------------------------|-----------------|-----------------|-----------------|-----------------|
| **–§–æ—Ä–º–∞—Ç**                | SPICE Type 2    | SPICE Type 2    | SPICE Type 20   | Proprietary .se1|
| **–ê–ª–≥–æ—Ä–∏—Ç–º**              | JPL Chebyshev   | JPL Chebyshev   | EPM Hermite     | **Kammeyer 1987** |
| **–ü–æ–ª–∏–Ω–æ–º—ã**              | Chebyshev       | Chebyshev       | Hermite         | Chebyshev (Œî)   |
| **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**          | 97.5 MB         | 2.6 GB          | 147 MB          | **99 MB** ‚úÖ    |
| **–°–∂–∞—Ç–∏–µ vs JPL**         | ‚Äî               | ‚Äî               | ‚Äî               | **28√ó (!)** üèÜ  |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ (–ª–µ—Ç)**        | 1,100           | 30,390          | 427             | 30,000          |
| **–ü–ª–∞–Ω–µ—Ç—ã 1-10**          | ‚úÖ              | ‚úÖ              | ‚úÖ              | ‚úÖ              |
| **–ê—Å—Ç–µ—Ä–æ–∏–¥—ã**             | ‚ùå              | ‚ùå              | **5 —à—Ç** ‚úÖ     | 4 —à—Ç ‚úÖ         |
| **TNO/–∫–∞—Ä–ª–∏–∫–∏**           | ‚ùå              | ‚ùå              | **4 —à—Ç** ‚úÖ     | ‚ùå              |
| **–¶–µ–Ω—Ç–∞–≤—Ä—ã**              | ‚ùå              | ‚ùå              | ‚ùå              | **Chiron/Pholus** ‚úÖ|
| **–õ—É–Ω–Ω—ã–µ —É–∑–ª—ã**           | ‚ùå              | ‚ùå              | ‚ùå              | **Mean/True** ‚úÖ|
| **Lilith**                | ‚ùå              | ‚ùå              | ‚ùå              | **Mean/Osc** ‚úÖ |
| **–¢–æ—á–Ω–æ—Å—Ç—å (median)**     | –≠—Ç–∞–ª–æ–Ω          | –≠—Ç–∞–ª–æ–Ω          | **29 –∫–º** ‚úÖ    | 84M –∫–º ‚ö†Ô∏è       |
| **–£–≥–ª–æ–≤–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**      | 0.001"          | 0.001"          | ~0.01"          | **0.001"** ‚úÖ   |

### üèÜ –¢–æ—á–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –ø–æ —Ç–µ–ª–∞–º (–¥–Ω–∏)

| –¢–µ–ª–æ      | JPL DE440 | JPL DE431 | EPM2021   | Swiss Eph         | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å        |
|-----------|-----------|-----------|-----------|-------------------|-------------------|
| **Moon**  | 4         | 4         | **2** üèÜ  | ~27.5 (var)       | **EPM2021** (2√ó!)  |
| Mercury   | ?         | 8         | **5** üèÜ  | ~88 (var)         | **EPM2021**        |
| Venus     | ?         | 16        | 20        | ~225 (var)        | **JPL DE431**      |
| **Sun**   | ?         | 16        | **2** üèÜ  | var (~365)        | **EPM2021** (8√ó!)  |
| **EMB**   | ?         | 16        | **2** üèÜ  | var (~365)        | **EPM2021** (8√ó!)  |
| **Earth** | ?         | 4         | **2** üèÜ  | var (~365)        | **EPM2021** (2√ó!)  |
| Mars      | ?         | 32        | 50        | 4000 (fixed)      | **JPL DE431**      |
| Jupiter   | ?         | 32        | 100       | 4000 (fixed)      | **JPL DE431**      |
| Saturn    | ?         | 32        | 300       | 4000 (fixed)      | **JPL DE431**      |
| Uranus    | ?         | 32        | 400       | 4000 (fixed)      | **JPL DE431**      |
| Neptune   | ?         | 32        | 500       | 4000 (fixed)      | **JPL DE431**      |
| Pluto     | ?         | 32        | **600** ‚ö†Ô∏è| 4000 (fixed)      | **JPL DE431** (uniform!) |

**–í—ã–≤–æ–¥—ã**:
- üèÜ **EPM2021 –ø–æ–±–µ–¥–∏—Ç–µ–ª—å** –¥–ª—è –õ—É–Ω—ã + –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö (2-5 –¥–Ω–µ–π vs 4-16 JPL)
- üèÜ **JPL DE431 –ø–æ–±–µ–¥–∏—Ç–µ–ª—å** –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞–Ω–µ—Ç (uniform 32 vs 100-600 EPM)
- ‚ö†Ô∏è **Swiss Eph**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ), –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è uniform sampling

---

### ‚ùì "–ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞ –≤–æ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö"

**–°—Ç–∞—Ç—É—Å**: ‚è≥ **–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û** (calceph Python bindings –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è)

**–ü—Ä–æ–±–ª–µ–º–∞**:
- calceph 4.0.1 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å Cython 3.x (`cpython.string.pxd not found`)
- –¢—Ä–µ–±—É–µ—Ç downgrade –Ω–∞ Cython <3.0 –ò–õ–ò –∂–¥–∞—Ç—å calceph 4.0.2+

**–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏** (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã):

| –§–æ—Ä–º–∞—Ç        | –ú–µ—Ö–∞–Ω–∏–∑–º –¥–æ—Å—Ç—É–ø–∞          | –¢–µ–æ—Ä. —Å–∫–æ—Ä–æ—Å—Ç—å | PHP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è      |
|---------------|---------------------------|----------------|---------------------|
| Swiss Eph     | –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ.    | **–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ** ‚úÖ | FFI (libswe.dll)    |
| EPM2021 .eph  | –ü—Ä—è–º–æ–π fseek + unpack     | **–ë—ã—Å—Ç—Ä–æ** ‚úÖ    | ‚úÖ Pure PHP (EphReader) |
| JPL DE440/431 | SPICE DAF traversal       | –°—Ä–µ–¥–Ω–µ         | FFI (calceph/jpl_eph)|
| EPM2021 BSP   | SPICE DAF traversal       | –°—Ä–µ–¥–Ω–µ         | FFI (calceph)       |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **EPM2021 .eph** (pure PHP, –±–µ–∑ FFI overhead) + **Swiss Eph FFI** (–¥–ª—è —É–∑–ª–æ–≤/—Ü–µ–Ω—Ç–∞–≤—Ä–æ–≤)

---

## üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### 1Ô∏è‚É£ –ù–∞—É—á–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)
‚Üí **EPM2021** (inner) + **JPL DE440** (outer)

```
‚úÖ –õ—É–Ω–∞: EPM2021 (2 –¥–Ω—è, ~15-30 –∫–º —Ç–æ—á–Ω–æ—Å—Ç—å)
‚úÖ –°–æ–ª–Ω—Ü–µ, –ó–µ–º–ª—è: EPM2021 (2 –¥–Ω—è, ~20-50 –∫–º)
‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ: EPM2021 (5-50 –¥–Ω–µ–π)
‚úÖ –í–Ω–µ—à–Ω–∏–µ: JPL DE440 (uniform 32 –¥–Ω—è, —ç—Ç–∞–ª–æ–Ω)
‚úÖ PHP: Pure PHP (EphReader.php) - –ù–ï–¢ FFI!
```

### 2Ô∏è‚É£ –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è (—É–≥–ª–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏)
‚Üí **Swiss Ephemeris** (primary) + **EPM2021** (TNO)

```
‚úÖ –ü–ª–∞–Ω–µ—Ç—ã: Swiss Eph (0.001" —Ç–æ—á–Ω–æ—Å—Ç—å)
‚úÖ Chiron, Pholus: Swiss Eph (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫!)
‚úÖ –£–∑–ª—ã, Lilith: Swiss Eph (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫!)
‚úÖ TNO (Sedna, Eris): EPM2021 (Swiss –∏—Ö –Ω–µ –∏–º–µ–µ—Ç)
‚úÖ PHP: FFI (libswe) + EphReader (EPM)
```

### 3Ô∏è‚É£ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã (—Ç—ã—Å—è—á–∏ –ª–µ—Ç)
‚Üí **JPL DE431** (30,390 –ª–µ—Ç) + **Swiss Eph** (—É–∑–ª—ã)

```
‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ: 30,390 –ª–µ—Ç (JPL) / 30,000 –ª–µ—Ç (Swiss)
‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: Uniform 32 –¥–Ω—è (—É–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
‚úÖ PHP: FFI (jpl_eph + libswe)
```

### 4Ô∏è‚É£ –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
‚Üí **Swiss Eph** (–æ—Å–Ω–æ–≤–∞) + **EPM2021 .eph** (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

```
‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å: Swiss Eph ‚âà 28√ó –±—ã—Å—Ç—Ä–µ–µ JPL (–∫–æ–º–ø—Ä–µ—Å—Å–∏—è!)
‚úÖ –ü–∞–º—è—Ç—å: 99 MB (Swiss) vs 2.6 GB (JPL DE431)
‚úÖ –ö—ç—à: –õ–µ–≥–∫–æ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ RAM
‚úÖ PHP: FFI (libswe) + Pure PHP (EphReader)
```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π

| –ó–∞–¥–∞—á–∞                     | ü•á –ü–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ   | ü•à –í—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ  | ü•â –¢—Ä–µ—Ç—å–µ –º–µ—Å—Ç–æ  |
|----------------------------|-------------------|------------------|------------------|
| **–ù–∞—É—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**       | **JPL DE440** üèÜ  | EPM2021          | JPL DE431        |
| **–°–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞**       | **Swiss Eph** üèÜ  | EPM2021 (.eph)   | JPL DE440        |
| **–õ—É–Ω–∞ + –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ**      | **EPM2021** üèÜ    | JPL DE440        | Swiss Eph        |
| **–í–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã**        | **JPL DE440** üèÜ  | JPL DE431        | EPM2021          |
| **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–ª–∞**        | **Swiss Eph** üèÜ  | EPM2021 (10 —à—Ç)  | ‚Äî                |
| **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (30k –ª–µ—Ç)** | **JPL DE431** üèÜ  | Swiss Eph        | JPL DE440        |
| **–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è (—É–≥–ª—ã)**      | **Swiss Eph** üèÜ  | JPL DE440        | EPM2021          |
| **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**          | **Swiss Eph** üèÜ  | JPL DE440        | EPM2021          |
| **PHP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**         | **EPM2021** üèÜ    | Swiss Eph (FFI)  | JPL (FFI)        |

---

## üî¨ –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è

### 1. –ê–ª–≥–æ—Ä–∏—Ç–º Kammeyer (Swiss Eph)
‚úÖ **–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –∫–æ–º–ø—Ä–µ—Å—Å–∏—è**: 2.8 GB ‚Üí 99 MB (28√ó)
‚úÖ **–ú–µ—Ç–æ–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö**: Œî = JPL - VSOP87 + Chebyshev (–∞–Ω–æ–º–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª)
‚úÖ **–ú–µ—Ç–æ–¥ –≤–Ω–µ—à–Ω–∏—Ö**: Rotation ‚Üí mean plane + Chebyshev (4000 –¥–Ω–µ–π)
‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å**: 0.001" (1 milli-arcsecond) —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å JPL ‚úÖ

### 2. EPM2021 –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç JPL –¥–ª—è –õ—É–Ω—ã
‚úÖ **2 –¥–Ω—è** –∏–Ω—Ç–µ—Ä–≤–∞–ª (vs 4 –¥–Ω—è JPL) - **–≤ 2 —Ä–∞–∑–∞ –ø–ª–æ—Ç–Ω–µ–µ**!
‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–µ LLR** (Lunar Laser Ranging) –¥–∞–Ω–Ω—ã–µ
‚úÖ **~29 –∫–º median** —Ç–æ—á–Ω–æ—Å—Ç—å vs JPL DE440
‚úÖ **–°–æ–ª–Ω—Ü–µ, –ó–µ–º–ª—è**: —Ç–æ–∂–µ 2 –¥–Ω—è (vs 16 –¥–Ω–µ–π JPL) - **–≤ 8 —Ä–∞–∑!**

### 3. JPL –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏
‚ùå **Earth**: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ 32 –¥–Ω—è, —Ä–µ–∞–ª—å–Ω–æ **4 –¥–Ω—è** (-87.5% –æ—à–∏–±–∫–∞!)
‚ùå **Moon**: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ 8 –¥–Ω–µ–π, —Ä–µ–∞–ª—å–Ω–æ **4 –¥–Ω—è** (-50%)
‚ùå **Uranus, Neptune, Pluto**: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ 64, —Ä–µ–∞–ª—å–Ω–æ **32** (-50%)
‚úÖ **calceph_inspector** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫!

### 4. –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ SPICE
‚úÖ **Swiss .se1**: 28√ó —Å–∂–∞—Ç–∏–µ –∑–∞ —Å—á—ë—Ç Œî-–ø–æ–∑–∏—Ü–∏–π
‚úÖ **EPM2021 .eph**: 5.4√ó —Å–∂–∞—Ç–∏–µ (147 MB BSP ‚Üí 27 MB .eph) –∑–∞ —Å—á—ë—Ç —É–¥–∞–ª–µ–Ω–∏—è DAF overhead
‚úÖ **Pure PHP**: EphReader.php —á–∏—Ç–∞–µ—Ç .eph –±–µ–∑ FFI (fseek + unpack)

---

## üìù –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

| –í–æ–ø—Ä–æ—Å                                | –°—Ç–∞—Ç—É—Å              | –†–µ–∑—É–ª—å—Ç–∞—Ç                              |
|---------------------------------------|---------------------|----------------------------------------|
| –§–æ—Ä–º–∞—Ç Swiss Eph?                     | ‚úÖ **COMPLETE**     | `.se1` proprietary (Kammeyer)          |
| –ê–ª–≥–æ—Ä–∏—Ç–º Swiss Eph?                   | ‚úÖ **COMPLETE**     | Œî-–ø–æ–∑–∏—Ü–∏–∏ + Chebyshev (28√ó compress)   |
| –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤?           | ‚úÖ **COMPLETE**     | EPM2021 –ª—É—á—à–µ (2d), JPL uniform (32d)  |
| –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ –≤—Å–µ–º –ø–ª–∞–Ω–µ—Ç–∞–º?            | ‚úÖ **COMPLETE**     | EPM 29km, Swiss 84M km (—É–≥–ª—ã 0.001")   |
| –ë–µ–Ω—á–º–∞—Ä–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏?                   | ‚è≥ **BLOCKED**      | Calceph bindings (Cython 3.x issue)   |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –±–µ–Ω—á–º–∞—Ä–∫–æ–≤**:

1. **–í–∞—Ä–∏–∞–Ω—Ç A** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): –¢–µ—Å—Ç `.eph` —Ñ–∞–π–ª–æ–≤ –±–µ–∑ Python bindings
   ```powershell
   php benchmark_comparison.php  # –¢–µ—Å—Ç EphReader.php (pure PHP)
   ```

2. **–í–∞—Ä–∏–∞–Ω—Ç B**: Compile libswe.dll –¥–ª—è PHP FFI —Ç–µ—Å—Ç–æ–≤
   ```powershell
   cd vendor/swisseph/pyswisseph-2.10.3.2/libswe
   gcc -shared -o libswe.dll *.c -lm -O2
   ```

3. **–í–∞—Ä–∏–∞–Ω—Ç C**: Downgrade Cython –¥–ª—è calceph Python bindings
   ```powershell
   pip uninstall cython
   pip install "cython<3.0"
   # Retry CMake build
   ```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏

1. **Swiss Ephemeris Documentation** (`vendor/swisseph/pyswisseph-2.10.3.2/libswe/doc/swisseph.md`)
   - Lines 78-80: Compression overview
   - Lines 551-620: Kammeyer algorithm detailed description

2. **calceph_inspector** (IMCCE CALCEPH 4.0.1)
   - Exact native intervals extraction from SPICE files
   - Type 2 (Chebyshev) and Type 20 (Hermite) analysis

3. **–¢–µ—Å—Ç—ã —Ç–æ—á–Ω–æ—Å—Ç–∏** (`test_accuracy_comparison.php`)
   - 40 measurements across 4 epochs (J1900, J2000, J2050, J2100)
   - EPM2021: median 29.0 km
   - Swiss Eph: median 84M km (distance), 0.001" (angles)

4. **JPL DE Documentation** (Project Pluto, Bill Gray)
   - https://projectpluto.com/jpl_eph.htm
   - ‚ö†Ô∏è Native intervals contain errors (verified via calceph_inspector)

5. **EPM2021 Documentation** (IAA RAS)
   - https://iaaras.ru/en/dept/ephemeris/epm/2021/
   - Native intervals: 2 days (Moon/Sun) confirmed via calceph

---

**–î–∞—Ç–∞**: 2025-01-XX
**–ê–≤—Ç–æ—Ä**: Comprehensive ephemeris analysis
**–í–µ—Ä—Å–∏—è**: 1.0 FINAL
