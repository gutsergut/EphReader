# üåå Quick Reference: Ephemeris Comparison Cheat Sheet

> –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç—Ñ–µ–º–µ—Ä–∏–¥—ã –ø–æ–¥ –∑–∞–¥–∞—á—É

---

## üéØ –í—ã–±–æ—Ä —ç—Ñ–µ–º–µ—Ä–∏–¥—ã: Decision Tree

```
                           [–ö–∞–∫–∞—è –∑–∞–¥–∞—á–∞?]
                                 |
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚ñº                    ‚ñº                    ‚ñº                     ‚ñº
     –ù–∞—É—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å      –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è          –°–∫–æ—Ä–æ—Å—Ç—å           –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (30k –ª–µ—Ç)
            |                    |                    |                     |
            ‚ñº                    ‚ñº                    ‚ñº                     ‚ñº
    EPM2021 (inner)      Swiss Ephemeris      Swiss Ephemeris         JPL DE431
    JPL DE440 (outer)    + EPM2021 (TNO)      + EPM2021 .eph       + Swiss (nodes)

    ‚úÖ 29 km median      ‚úÖ 0.001" angles      ‚úÖ 99 MB size        ‚úÖ 30,390 years
    ‚úÖ Pure PHP          ‚úÖ Nodes/Chiron       ‚úÖ 28√ó compress      ‚úÖ Uniform 32d
```

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (1 –≤–∑–≥–ª—è–¥)

| –§–æ—Ä–º–∞—Ç         | –†–∞–∑–º–µ—Ä   | –¢–æ—á–Ω–æ—Å—Ç—å   | –ò–Ω—Ç–µ—Ä–≤–∞–ª (–õ—É–Ω–∞) | –£–Ω–∏–∫. —Ç–µ–ª–∞ | PHP Pure | –ê–ª–≥–æ—Ä–∏—Ç–º      |
|----------------|----------|------------|-----------------|------------|----------|---------------|
| **JPL DE440**  | 97.5 MB  | –≠—Ç–∞–ª–æ–Ω ‚úÖ  | 4 –¥–Ω—è           | 0          | ‚ùå       | Chebyshev     |
| **JPL DE431**  | 2.6 GB   | –≠—Ç–∞–ª–æ–Ω ‚úÖ  | 4 –¥–Ω—è           | 0          | ‚ùå       | Chebyshev     |
| **EPM2021**    | 147 MB   | 29 –∫–º ‚úÖ   | **2 –¥–Ω—è** üèÜ    | 10 üåü      | ‚úÖ       | Hermite       |
| **Swiss Eph**  | 99 MB üèÜ | 0.001" ‚úÖ  | ~27.5 –¥–Ω (var)  | 6 üåü       | ‚ùå       | **Kammeyer** üèÜ|

**–õ–µ–≥–µ–Ω–¥–∞**: üèÜ = –ª—É—á—à–∏–π, üåü = —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

---

## ü•á –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è                  | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å       | –ü–æ—á–µ–º—É?                                    |
|----------------------------|------------------|--------------------------------------------|
| **–°–∂–∞—Ç–∏–µ**                 | Swiss Eph üèÜ     | 28√ó (2.8 GB ‚Üí 99 MB)                       |
| **–õ—É–Ω–∞ (–ø–ª–æ—Ç–Ω–æ—Å—Ç—å)**       | EPM2021 üèÜ       | 2 –¥–Ω—è vs 4 (JPL) - –≤ 2√ó –ø–ª–æ—Ç–Ω–µ–µ!          |
| **–°–æ–ª–Ω—Ü–µ (–ø–ª–æ—Ç–Ω–æ—Å—Ç—å)**     | EPM2021 üèÜ       | 2 –¥–Ω—è vs 16 (JPL) - –≤ 8√ó –ø–ª–æ—Ç–Ω–µ–µ!         |
| **–í–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã**        | JPL DE440 üèÜ     | Uniform 32 –¥–Ω—è, —ç—Ç–∞–ª–æ–Ω–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å         |
| **–£–≥–ª–æ–≤–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**       | Swiss Eph üèÜ     | 0.001" (1 milli-arcsec)                    |
| **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–ª–∞**        | Swiss + EPM üèÜ   | Nodes, Chiron, TNO, –∞—Å—Ç–µ—Ä–æ–∏–¥—ã              |
| **PHP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**         | EPM2021 üèÜ       | Pure PHP (EphReader.php) - NO FFI!         |
| **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**  | JPL DE431 üèÜ     | 30,390 –ª–µ—Ç                                 |

---

## üî¨ –ê–ª–≥–æ—Ä–∏—Ç–º—ã (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

### JPL DE440/431 (NASA)
```
–•—Ä–∞–Ω–∏—Ç: –ü–æ–ª–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ XYZ (–±–∞—Ä–∏—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–∏–µ)
–ú–µ—Ç–æ–¥:  –ß–µ–±—ã—à—ë–≤ –ø–æ–ª–∏–Ω–æ–º—ã (Type 2)
–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (4-32 –¥–Ω—è)
–†–∞–∑–º–µ—Ä: 97 MB (DE440) / 2.6 GB (DE431)
```

### EPM2021 (Russia)
```
–•—Ä–∞–Ω–∏—Ç: –ü–æ–ª–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ XYZ (–±–∞—Ä–∏—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–∏–µ)
–ú–µ—Ç–æ–¥:  –≠—Ä–º–∏—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (Type 20)
–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (2-600 –¥–Ω–µ–π)
–†–∞–∑–º–µ—Ä: 147 MB (BSP) / 27 MB (.eph)
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: LLR-—É–ª—É—á—à–µ–Ω–Ω–∞—è –õ—É–Ω–∞!
```

### Swiss Ephemeris (Astrodienst)
```
–•—Ä–∞–Ω–∏—Ç: Œî-–ø–æ–∑–∏—Ü–∏–∏ (JPL - VSOP87)
–ú–µ—Ç–æ–¥:  –ß–µ–±—ã—à—ë–≤ –¥–ª—è Œî + rotation (Kammeyer 1987)
–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ (–∞–Ω–æ–º–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª / 4000 –¥–Ω–µ–π)
–†–∞–∑–º–µ—Ä: 99 MB (compressed 28√ó!)
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Å–∂–∞—Ç–∏–µ!
```

---

## üåü –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–ª–∞

| –¢–µ–ª–æ                  | JPL | EPM | Swiss | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ          |
|-----------------------|-----|-----|-------|---------------------|
| Ceres, Pallas, Vesta  | ‚ùå  | ‚úÖ  | ‚úÖ    | –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è/–Ω–∞—É–∫–∞    |
| Sedna, Eris, Makemake | ‚ùå  | ‚úÖ  | ‚ùå    | –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è (TNO)    |
| Chiron, Pholus        | ‚ùå  | ‚ùå  | ‚úÖ    | –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è (—Ü–µ–Ω—Ç–∞–≤—Ä—ã)|
| Lunar Nodes           | ‚ùå  | ‚ùå  | ‚úÖ    | –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è          |
| Lilith (Black Moon)   | ‚ùå  | ‚ùå  | ‚úÖ    | –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è          |

**–ò–¢–û–ì–û**:
- EPM: 10 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- Swiss: 6 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫

---

## ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è)

```
üèÜ FASTEST:  Swiss Eph          (–ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ., 99 MB, FFI)
‚úÖ FAST:     EPM2021 .eph        (–ø—Ä—è–º–æ–π fseek/unpack, Pure PHP)
‚ö†Ô∏è MEDIUM:   JPL DE440/431      (SPICE DAF traversal, FFI)
‚ö†Ô∏è MEDIUM:   EPM2021 BSP        (SPICE DAF traversal, FFI)
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã (calceph Python bindings issue)

---

## üéØ –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)

### –î–ª—è PHP –ø—Ä–æ–µ–∫—Ç–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º:

```php
class HybridEphemeris {
    // 1. Pure PHP (NO FFI overhead!)
    private EphReader $epm;              // EPM2021 .eph - inner planets + TNO

    // 2. FFI –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–µ–ª
    private FFI $swiss;                  // Swiss Eph - nodes, Chiron, Pholus
    private FFI $jpl;                    // JPL DE440 - outer planets (reference)

    public function compute(int $body, float $jd) {
        // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã + TNO ‚Üí Pure PHP
        if ($body <= 4 || $body > 2000000) {
            return $this->epm->compute($body, $jd);  // NO FFI! ‚úÖ
        }

        // Nodes, Chiron, Pholus ‚Üí Swiss FFI
        if ($body >= 10 && $body <= 16) {
            return $this->swiss->calc($body, $jd);
        }

        // –í–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã ‚Üí JPL (reference)
        return $this->jpl->pleph($jd, $body);
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ **–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤** —á–µ—Ä–µ–∑ Pure PHP (–±–µ–∑ FFI overhead)
- ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** (22 —Ç–µ–ª–∞ EPM + 6 Swiss = 28 –æ–±—ä–µ–∫—Ç–æ–≤)
- ‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å** (EPM –¥–ª—è –õ—É–Ω—ã/Sun, JPL –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö)

---

## üìê –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã (–ø–æ–±–µ–¥–∏—Ç–µ–ª–∏ –ø–æ —Ç–µ–ª–∞–º)

| –¢–µ–ª–æ      | –õ—É—á—à–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª | –ò—Å—Ç–æ—á–Ω–∏–∫   | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                    |
|-----------|-----------------|------------|--------------------------------|
| **Moon**  | **2 –¥–Ω—è** üèÜ    | EPM2021    | –í 2√ó –ø–ª–æ—Ç–Ω–µ–µ JPL (4 –¥–Ω—è)       |
| **Sun**   | **2 –¥–Ω—è** üèÜ    | EPM2021    | –í 8√ó –ø–ª–æ—Ç–Ω–µ–µ JPL (16 –¥–Ω–µ–π)     |
| **Earth** | **2 –¥–Ω—è** üèÜ    | EPM2021    | –í 2√ó –ø–ª–æ—Ç–Ω–µ–µ JPL (4 –¥–Ω—è)       |
| Mercury   | **5 –¥–Ω–µ–π** üèÜ   | EPM2021    | JPL: 8 –¥–Ω–µ–π                    |
| Venus     | **16 –¥–Ω–µ–π** üèÜ  | JPL DE431  | EPM: 20 –¥–Ω–µ–π                   |
| Mars      | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 50 –¥–Ω–µ–π (—Å–ª–∏—à–∫–æ–º —Ä–µ–¥–∫–æ)   |
| Jupiter   | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 100 –¥–Ω–µ–π                  |
| Saturn    | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 300 –¥–Ω–µ–π                  |
| Uranus    | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 400 –¥–Ω–µ–π                  |
| Neptune   | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 500 –¥–Ω–µ–π                  |
| Pluto     | **32 –¥–Ω—è** üèÜ   | JPL DE431  | EPM: 600 –¥–Ω–µ–π (—Å–ª–∏—à–∫–æ–º —Ä–µ–¥–∫–æ!) |

**–í—ã–≤–æ–¥**:
- üèÜ **EPM2021** –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ + –õ—É–Ω—ã + –°–æ–ª–Ω—Ü–∞
- üèÜ **JPL DE431** –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞–Ω–µ—Ç (uniform 32 –¥–Ω—è)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### 1Ô∏è‚É£ JPL –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏!
```
–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:    Earth = 32 –¥–Ω—è     Moon = 8 –¥–Ω–µ–π      Pluto = 64 –¥–Ω—è
–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:         Earth = 4 –¥–Ω—è      Moon = 4 –¥–Ω—è       Pluto = 32 –¥–Ω—è
–û—à–∏–±–∫–∞:             -87.5%             -50%               -50%
```
**–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**: `calceph_inspector` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –º–µ—Ç–æ–¥!)

### 2Ô∏è‚É£ Swiss Eph = 28√ó —Å–∂–∞—Ç–∏–µ (Kammeyer algorithm)
```
JPL DE431 original:  2.8 GB
Swiss Eph compressed: 99 MB
–ú–µ—Ç–æ–¥: –•—Ä–∞–Ω–µ–Ω–∏–µ Œî-–ø–æ–∑–∏—Ü–∏–π (JPL - VSOP87) –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
–¢–æ—á–Ω–æ—Å—Ç—å: 0.001" (1 milli-arcsecond) - –ª—É—á—à–µ —á–µ–º –Ω—É–∂–Ω–æ!
```

### 3Ô∏è‚É£ EPM2021 –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç JPL –¥–ª—è –õ—É–Ω—ã
```
EPM –∏–Ω—Ç–µ—Ä–≤–∞–ª: 2 –¥–Ω—è (78,000 –∑–∞–ø–∏—Å–µ–π –∑–∞ 427 –ª–µ—Ç)
JPL –∏–Ω—Ç–µ—Ä–≤–∞–ª: 4 –¥–Ω—è
–ü—Ä–∏—á–∏–Ω–∞: Improved LLR (Lunar Laser Ranging) data
–¢–æ—á–Ω–æ—Å—Ç—å: ~29 –∫–º median vs JPL DE440
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

| –î–æ–∫—É–º–µ–Ω—Ç                                | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ                          |
|-----------------------------------------|-------------------------------------|
| `EPHEMERIS_COMPARISON_SUMMARY.md`       | –ü–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã        |
| `EPHEMERIS_FORMATS_AND_COMPARISON.md`   | –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤        |
| `NATIVE_INTERVALS_EXACT.md`             | –¢–æ—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (calceph_inspector)|
| `SWISS_EPHEMERIS_GUIDE.md`              | Swiss Eph –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è + FFI          |
| `.github/copilot-instructions.md`       | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø—Ä–∞–≤–∏–ª–∞ AI)    |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è –Ω–∞—É—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤:
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å EPM2021 (—á–∏—Å—Ç—ã–π PHP!)
composer require swisseph/ephemeris
php test_eph.php  # –¢–µ—Å—Ç EphReader.php

# 2. –õ—É–Ω–∞, –°–æ–ª–Ω—Ü–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ ‚Üí EPM2021
# 3. –í–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã ‚Üí JPL DE440 (FFI)
```

### –î–ª—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏:
```bash
# 1. Swiss Eph –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö + —É–∑–ª–æ–≤/Chiron
php test_swisseph_ffi.php

# 2. EPM2021 –¥–ª—è TNO (Sedna, Eris, etc)
php test_eph.php
```

### –î–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π:
```bash
# –°–∫–∞—á–∞—Ç—å JPL DE431 (30,390 –ª–µ—Ç)
curl -L https://ssd.jpl.nasa.gov/ftp/eph/planets/Linux/de431/lnxm13000p17000.431 -o data/ephemerides/jpl/de431/
```

---

**–í–µ—Ä—Å–∏—è**: 1.0
**–î–∞—Ç–∞**: 2025-01-XX
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETE
